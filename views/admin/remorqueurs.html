<script src="../../Scripts/RemorqueursController.js">
</script>
<section class="content-header">
    <h1>
            Espace Administrateur            
          </h1>
</section>

<!-- Main content -->
<section class="content" ng-controller="RemorqueursController">
    <div class="box box-warning">
        <li><a href="#addremorqueur"><i class="fa fa-link"></i> <span>Nouveau remorqueur</span></a></li>
        <div class="box-header with-border">
            <h3 class="box-title">Liste des remorqueurs</h3>
        </div>
        <!-- /.box-header -->
        <div class="box-body">


            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Matricule</th>
                        <th>Remorqueur</th>
                        <th>Télephone</th>
                        <th>Email</th>
                        <th>actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="remorqueur in remorqueurs">
                        <td>{{remorqueur.matricule}}</td>
                        <td>{{remorqueur.nom}} {{remorqueur.prenom}}</td>
                        <td>{{remorqueur.tel}}</td>
                        <td>{{remorqueur.email}}</td>
                    <td><button class="btn btn-primary btn-sm" ng-click='editrow(remorqueur)'>Modifier</button>   <button class="btn btn-primary btn-sm" ng-click='deleteremorqueur(remorqueur.matricule)'>Supprimer</button></td>
                        
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
    <!--delete and edit row dialogs-->
    <div id="editremorqueur" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modifier Remorqueur : {{remorqueur.nom}} {{remorqueur.prenom}}</h4>
      </div>
      <div class="modal-body">
    <form role="form" name="userForm" ng-submit="confirmedit()">
                <!-- Validation messages for both error and success -->
                <div class="alert alert-success" ng-show='message_rem !=null'>{{message_rem}}</div>
                <div class="alert alert-danger" ng-show='notok_rem !=null'>{{notok_rem}}</div>
                <div class="form-group">
                    <label>Matricule</label>
                    <input type="text" class="form-control" name="Matricule" pattern="[0-9]{4}" placeholder="Matricule" ng-model="remorqueur.matricule" required>
                </div>
                <div class="form-group">
                    <label>Nom</label>
                    <input type="text" class="form-control" name="nom" placeholder="Nom" ng-model="remorqueur.nom" required>
                </div>
                <div class="form-group">
                    <label>Prénom</label>
                    <input type="text" class="form-control" name="prenom" placeholder="Prénom" ng-model="remorqueur.prenom" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" class="form-control" name="email" placeholder="Votre adresse electronique" ng-model="remorqueur.email">
                </div>
                <div class="form-group">
                    <label>Teléphone</label>
                    <input type="text" class="form-control" name="tel" pattern="[0-9]{8}" placeholder="Numero du tel" ng-model="remorqueur.tel" required>
                </div>

                <div class="form-group">
                    <label>Mot de passe</label>
                    <input type=password class="form-control" name="password" placeholder="Enter ..." ng-model="remorqueur.password" required>
                </div>
                <div class="form-group">
                    <label>Longtitude</label>
                    <input type="text" class="form-control" name="prenom" placeholder="Longtitude" ng-model="remorqueur.longitude" ng-bind="position" required>
                </div>
                <div class="form-group">
                    <label>Latitude</label>
                    <input type="text" class="form-control" name="prenom" placeholder="Latitude" ng-model="remorqueur.latitude" required>
                </div>
                <div map-lazy-load="https://maps.google.com/maps/api/js">
                    <ng-map center="current" zoom="8" on-center-changed="centerChanged()"></ng-map>

                </div>

                <div class="box-footer">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>



            </form>

      </div>
      <div  class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
    </div>
</div>

       <!-- Dialog de suppression-->
      <div id="deleterow" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div  class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Supprimer Remorqueur</h4>
      </div>
      <div class="modal-body">
        <p>Voulez vous supprimer le remorqueur {{remorqueur.nom}} {{remorqueur.prenom}} </p>
          
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
          <button class="btn btn-primary btn-sm" ng-click='confirmdelete()'>Confirmer</button>
      </div>
    </div>

  </div>
</div>
</section>